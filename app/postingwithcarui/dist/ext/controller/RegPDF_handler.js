sap.ui.define(["sap/m/MessageToast","sap/m/MessageBox"],function(e,a){"use strict";return{downloadPDF:function(o){e.show("Downloading PDF");console.log(o);let t=o.getObject();const n="Kikuldetes_"+t["goal"]+".pdf";let r=t["ID"];var l=`/odata/v4/app/getPDFRegular?ID=${r}`;fetch(l).then(e=>{if(!e.ok){throw new Error("Hiba történt a fájl letöltése során.")}return e.json()}).then(e=>{console.log(e.value);if(e.value[0]=="CurrencyNotFound"){a.error("A(z) "+e.value[1]+" valuta árfolyama nem kérhető le!")}else if(e.value=="DateError"){a.error("Árfolyam nem kérdezhető le a mai napnál későbbre!")}else if(e&&e.value&&e.value.data){const a=new Uint8Array(e.value.data);const o=new Blob([a],{type:"application/pdf"});const t=window.URL.createObjectURL(o);const r=document.createElement("a");r.href=t;r.download=n;document.body.appendChild(r);r.click();document.body.removeChild(r);window.URL.revokeObjectURL(t)}else{throw new Error("A válasz nem tartalmazza a szükséges adatokat.")}}).catch(e=>{console.error("Hiba:",e)})}}});
//# sourceMappingURL=RegPDF_handler.js.map