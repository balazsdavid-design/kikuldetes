sap.ui.define(["sap/m/MessageToast","sap/m/MessageBox"],function(e,t){"use strict";return{handle:function(a){e.show("Downloading PDF");let o=a.getObject();const r="AutosKikuldetes_"+o["goal"]+".pdf";let n=o["ID"];const l=a.oModel.oRequestor.sServiceUrl;var s=`${l}/getPDFCar?ID=${n}`;fetch(s).then(e=>{if(!e.ok){throw new Error("Hiba történt a fájl letöltése során.")}return e.json()}).then(e=>{if(e.value=="FuelPriceNotFound"){t.error("Nem található üzemanyagár az adott hónapra")}else if(e.value=="NoVolume"){t.error("Belső égésű motor esetén töltse ki a hengerűrtartalmat!")}else if(e&&e.value&&e.value.data){const t=new Uint8Array(e.value.data);const a=new Blob([t],{type:"application/pdf"});const o=window.URL.createObjectURL(a);const n=document.createElement("a");n.href=o;n.download=r;document.body.appendChild(n);n.click();document.body.removeChild(n);window.URL.revokeObjectURL(o)}else{throw new Error("A válasz nem tartalmazza a szükséges adatokat.")}}).catch(e=>{console.error("Hiba:",e)})}}});
//# sourceMappingURL=PDF_handler.js.map