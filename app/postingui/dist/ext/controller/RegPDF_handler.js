sap.ui.define(["sap/m/MessageToast","sap/m/MessageBox"],function(e,o){"use strict";return{downloadPDF:function(t){e.show("Downloading PDF");console.log(t);let a=t.getObject();const r="Kikuldetes_"+a["goal"]+".pdf";let n=a["ID"];const l=t.oModel.oRequestor.sServiceUrl;var s=`${l}/getPDFRegular?ID=${n}`;fetch(s).then(e=>{if(!e.ok){throw new Error("Hiba történt a fájl letöltése során.")}return e.json()}).then(e=>{console.log(e.value);if(e.value[0]=="CurrencyNotFound"){o.error("A(z) "+e.value[1]+" valuta árfolyama nem kérhető le!")}else if(e.value=="DateError"){o.error("Árfolyam nem kérdezhető le a mai napnál későbbre!")}else if(e&&e.value&&e.value.data){const o=new Uint8Array(e.value.data);const t=new Blob([o],{type:"application/pdf"});const a=window.URL.createObjectURL(t);const n=document.createElement("a");n.href=a;n.download=r;document.body.appendChild(n);n.click();document.body.removeChild(n);window.URL.revokeObjectURL(a)}else{throw new Error("A válasz nem tartalmazza a szükséges adatokat.")}}).catch(e=>{console.error("Hiba:",e)})}}});
//# sourceMappingURL=RegPDF_handler.js.map