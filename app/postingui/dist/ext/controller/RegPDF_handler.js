sap.ui.define(["sap/m/MessageToast","sap/m/MessageBox"],function(e,t){"use strict";return{downloadPDF:function(o){const r=this.getModel("i18n").getResourceBundle().getText("Saving");const n=this.getModel("i18n").getResourceBundle().getText("BasicError");const s=this.getModel("i18n").getResourceBundle().getText("FuelPriceError");const l=this.getModel("i18n").getResourceBundle().getText("DateError");const i=this.getModel("i18n").getResourceBundle().getText("ConversionError");const c=this.getModel("i18n").getResourceBundle().getText("EmployeeDataMissing");e.show(r);let a=o.getObject();const d="Kikuldetes_"+a["goal"]+".pdf";let u=a["ID"];const g=this.getModel().getServiceUrl();var h=`${g}/getPDFRegular?ID=${u}`;fetch(h).then(e=>{if(!e.ok){t.error(n);throw new Error(n)}return e.json()}).then(e=>{console.log(e.value);if(e.value[0]=="CurrencyNotFound"){t.error(s+" "+e.value[1])}else if(e.value=="DateError"){t.error(l)}else if(e.value=="EmployeeDataMissing"){t.error(c)}else if(e&&e.value&&e.value.data){const t=new Uint8Array(e.value.data);const o=new Blob([t],{type:"application/pdf"});const r=window.URL.createObjectURL(o);const n=document.createElement("a");n.href=r;n.download=d;document.body.appendChild(n);n.click();document.body.removeChild(n);window.URL.revokeObjectURL(r)}else{t.error(i);throw new Error(i)}}).catch(e=>{console.error("Hiba:",e)})}}});
//# sourceMappingURL=RegPDF_handler.js.map